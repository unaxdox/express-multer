<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Upload Form</title>
</head>
<body>
  <form action="/profile" method="post" enctype="multipart/form-data">
    <label for="username">Izena:</label>
    <input type="text" id="username" name="username" placeholder="Enter your name" required />
    <br><br>
    <label for="avatar">Irudia igo:</label>
    <input type="file" id="avatar" name="avatar" accept=".png, .jpg, .jpeg" required />
    <br><br>
    <button type="submit">Submit</button>
  </form>
</body>
</html>
<script>
  const form = document.querySelector('form');
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const formData = new FormData(form);
    fetch('/profile', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(result => {
      console.log('Zure izena:'+ result.izena + ',Fitxategia: ' + result.fitxategia);
    })
    .catch(error => {
      console.error('Error:', error);
    });
  });
</script>